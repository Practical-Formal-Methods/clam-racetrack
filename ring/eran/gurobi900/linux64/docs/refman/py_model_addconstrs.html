<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2019 (Released January 1, 2019) -->
<HTML lang="EN">
<HEAD>
<TITLE>Model.addConstrs()</TITLE>
<META NAME="description" CONTENT="Model.addConstrs()">
<META NAME="keywords" CONTENT="refman">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2019">

<LINK REL="STYLESHEET" HREF="refman.css">

<LINK REL="next" HREF="py_model_addgenconstrxxx.html">
<LINK REL="previous" HREF="py_model_addconstr.html">
<LINK REL="next" HREF="py_model_addgenconstrxxx.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="py_model_addgenconstrxxx.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="py_model.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="py_model_addconstr.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A
 HREF="py_model_addgenconstrxxx.html">Model.addGenConstrXxx()</A>
<B> Up:</B> <A
 HREF="py_model.html">Model</A>
<B> Previous:</B> <A
 HREF="py_model_addconstr.html">Model.addConstr()</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A ID="SECTION000102300000000000000"></A>
<A ID="pythonmethod:Model.addConstrs"></A>
<BR>
Model.addConstrs()
</H3>
<SPAN CLASS="LARGE">
<FONT COLOR="#801a1a"> <SPAN  CLASS="textbf">addConstrs</SPAN></FONT></SPAN> ( generator, name="" )

<P>
Add multiple constraints to a model using a Python generator
expression.  Returns a Gurobi
<A HREF="py_tupledict.html#pythonclass:tupledict">tupledict</A> that contains the
newly created constraints, indexed by the values generated by the
generator expression.

<P>
The first argument to <code>addConstrs</code> is a Python generator
expression, a special feature of the Python language that allows you
to iterate over a Python expression.  In this case, the Python
expression will be a Gurobi constraint and the generator expression
provides values to plug into that constraint.  A new Gurobi constraint
is added to the model for each iteration of the generator expression.

<P>
To give an example, if <code>x</code> is a Gurobi variable, then
<PRE>
  m.addConstr(x &lt;= 1, name='c0')
</PRE>
would add a single linear constraint involving this variable.
In contrast, if <code>x</code> is a list of Gurobi variables, then
<PRE>
  m.addConstrs((x[i] &lt;= 1 for i in range(4)), name='c')
</PRE>
would add four constraints to the model.  The entire first argument is
a generator expression, where the indexing is controlled by the
statement <code>for i in range(4)</code>, The first constraint that results
from this expression would be named <code>c[0]</code>, and would involve
variable <code>x[0]</code>.  The second would be named <code>c[1]</code>, and
would involve variable <code>x[1]</code>.

<P>
Generator expressions can be much more complex than this.  They can
involve multiple variables and conditional tests.  For example, you
could do:
<PRE>
  m.addConstrs((x[i,j] == 0 for i in range(4)
                            for j in range(4)
                            if i != j), name='c')
</PRE>

<P>
One restriction that <code>addConstrs</code> places on the generator
expression is that each variable must always take a scalar value
(<code>int</code>, <code>float</code>, <code>string</code>, ...).  Thus,
<code>for i in [1, 2.0, 'a', 'bc']</code> is fine, but
<code>for i in [(1, 2), [1, 2, 3]]</code> isn't.

<P>
This method can be used to add linear constraints, quadratic
constraints, or general constraints to the model.  Refer to the
<A HREF="py_tempconstr.html#pythonclass:TempConstr">TempConstr</A> documentation
for more information on all of the different constraint types that can
be added.

<P>
Note that if you supply a name argument, the generator expression must
be enclosed in parenthesis.  This requirement comes from the Python
language interpreter.

<P>
<SPAN CLASS="LARGE"><SPAN  CLASS="textbf">Arguments:</SPAN></SPAN>

<P>
 <SPAN  CLASS="textbf">generator</SPAN>: A generator expression, where each iteration produces
a constraint.

<P>
 <SPAN  CLASS="textbf">name</SPAN>: Name pattern for new constraints.
The given name will be subscripted by the index of the generator
expression, so if the index is an integer, <SPAN  CLASS="texttt">c</SPAN> would become
<SPAN  CLASS="texttt">c[0]</SPAN>, <SPAN  CLASS="texttt">c[1]</SPAN>, etc.
Note that the generated names will be stored as ASCII strings, so you
should avoid using names that contain non-ASCII characters. In
addition, names that contain spaces are strongly discouraged, because
they can't be written to LP format files.

<P>

<SPAN CLASS="LARGE"><SPAN  CLASS="textbf">Return value:</SPAN></SPAN>

<P>
A dictionary of <A HREF="py_constr.html#pythonclass:Constr">Constr</A>
objects, indexed by the values specified by the generator expression.

<P>
<SPAN CLASS="LARGE"><B>Example usage:</B></SPAN><PRE>
  model.addConstrs(x.sum(i, '*') &lt;= capacity[i] for i in range(5))
  model.addConstrs(x[i] + x[j] &lt;= 1 for i in range(5) for j in range(5))
  model.addConstrs(x[i]*x[i] + y[i]*y[i] &lt;= 1 for i in range(5))
  model.addConstrs(x.sum(i, '*') == [0, 2] for i in [1, 2, 4])
  model.addConstrs(z[i] == max_(x[i], y[i]) for i in range(5))
  model.addConstrs((x[i] == 1) &gt;&gt; (y[i] + z[i] &lt;= 5) for i in range(5))
</PRE>

<P>
<DL>
<DT><STRONG><SPAN CLASS="LARGE"></SPAN><SPAN CLASS="LARGE"><SPAN  CLASS="textbf">Warning</SPAN></SPAN></STRONG></DT>
<DD>A constraint can only have a single comparison operator.
<BR>
While <TT>1 &lt;= x + y &lt;= 2</TT> or <TT>1 &lt;= x[i] + y[i] &lt;= 2 for i in range(3)</TT>
<BR>
may look like valid constraints, our Python API won't interpret them as they were intended, which will almost
<BR>
certainly result in unexpected behavior.
</DD>
</DL>

<P>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="py_model_addgenconstrxxx.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="py_model.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="py_model_addconstr.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A
 HREF="py_model_addgenconstrxxx.html">Model.addGenConstrXxx()</A>
<B> Up:</B> <A
 HREF="py_model.html">Model</A>
<B> Previous:</B> <A
 HREF="py_model_addconstr.html">Model.addConstr()</A></DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
